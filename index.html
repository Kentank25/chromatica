<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alchemist Simulator | Master Mixer</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="game-container">
      <div class="header-stats">
        <div class="score-display">
          <span>â­ Skor:</span>
          <span id="score">0</span>
        </div>
        <div class="highscore-display">
          <span>ğŸ†</span>
          <span id="highscore">0</span>
        </div>
        <div class="level-display">
          <span>ğŸ¯</span>
          <select id="level-select">
            <option value="easy">Easy</option>
            <option value="medium" selected>Medium</option>
            <option value="hard">Hard</option>
          </select>
        </div>
      </div>
      
      <div class="stats-bar">
        <span class="stat-item success">âœ… <span id="stat-success">0</span></span>
        <span class="stat-item fail">âŒ <span id="stat-fail">0</span></span>
        <span class="stat-item total">ğŸ“Š <span id="stat-total">0</span></span>
        <button id="btn-achievements" class="btn-achievement">ğŸ…</button>
      </div>
      
      <h1>Alchemist Mixer</h1>
      <div class="customer-area">
        <div id="customer-info">
          <span id="customer-emoji">ğŸ§™â€â™‚ï¸</span>
          <p id="customer-request">"Buatkan aku ramuan ini!"</p>
        </div>
        <div class="timer-bar">
          <div id="timer-fill"></div>
        </div>
      </div>
      
      <!-- Waiting State: Tampil saat tidak ada orderan -->
      <div id="waiting-state" class="waiting-area hidden">
        <p>â˜• Tidak ada pelanggan...</p>
        <button id="btn-next-customer" class="btn-main pulse-btn">ğŸ“‹ Ambil Orderan Baru</button>
      </div>

      <div class="mission-card">
        <p>Target Warna:</p>
        <div id="target-box" class="color-preview"></div>
        <div class="target-rgb-hint hidden" id="target-rgb-hint">
          <span class="rgb-value red-text">R: <span id="target-r">?</span></span>
          <span class="rgb-value green-text">G: <span id="target-g">?</span></span>
          <span class="rgb-value blue-text">B: <span id="target-b">?</span></span>
        </div>
        <button id="btn-hint" class="btn-hint">ğŸ’¡ Hint (3x)</button>
        <p id="hint">Tahan tombol untuk menuang!</p>
      </div>

      <div class="cauldron-area">
        <div class="cauldron">
          <div id="liquid">
            <div id="bubbles-container"></div>
          </div>
        </div>
      </div>
      
      <div class="rgb-preview">
        <span class="rgb-value red-text">R: <span id="rgb-r">0</span></span>
        <span class="rgb-value green-text">G: <span id="rgb-g">0</span></span>
        <span class="rgb-value blue-text">B: <span id="rgb-b">0</span></span>
      </div>

      <div class="controls">
        <div class="bottle-group">
          <button class="btn-pour red" id="btn-r">Merah</button>
          <button class="btn-pour green" id="btn-g">Hijau</button>
          <button class="btn-pour blue" id="btn-b">Biru</button>
        </div>

        <div class="action-group">
          <button id="btn-submit" class="btn-main">Sajikan Ramuan!</button>
          <button id="btn-reset" class="btn-secondary">Buang & Ulangi</button>
        </div>
      </div>
    </div>

    <div id="result-modal" class="modal hidden">
      <div class="modal-content">
        <h2 id="result-title">Hasil Ramuan</h2>
        <p id="result-score">Akurasi: 0%</p>
        <p id="result-bonus" class="bonus-text"></p>
        <p id="combo-display" class="combo-text"></p>
        <button class="btn-main" onclick="closeResultModal()">OK</button>
      </div>
    </div>
    
    <!-- Confetti Container -->
    <div id="confetti-container"></div>
    
    <!-- Tutorial Modal -->
    <div id="tutorial-modal" class="modal">
      <div class="modal-content tutorial-content">
        <h2>ğŸ§ª Selamat Datang, Alchemist!</h2>
        <div class="tutorial-steps">
          <div class="tutorial-step">
            <span class="step-icon">ğŸ¨</span>
            <p>Lihat <strong>Target Warna</strong> yang diminta pelanggan</p>
          </div>
          <div class="tutorial-step">
            <span class="step-icon">ğŸ§ª</span>
            <p><strong>Tahan tombol</strong> Merah/Hijau/Biru untuk menuang</p>
          </div>
          <div class="tutorial-step">
            <span class="step-icon">ğŸ‘ï¸</span>
            <p>Perhatikan nilai <strong>RGB</strong> untuk akurasi</p>
          </div>
          <div class="tutorial-step">
            <span class="step-icon">â±ï¸</span>
            <p>Selesaikan sebelum <strong>waktu habis!</strong></p>
          </div>
        </div>
        <button class="btn-main" onclick="closeTutorial()">Mulai Bermain! ğŸš€</button>
        <label class="dont-show-again">
          <input type="checkbox" id="dont-show-tutorial"> Jangan tampilkan lagi
        </label>
      </div>
    </div>
    
    <!-- Achievement Modal -->
    <div id="achievement-modal" class="modal hidden">
      <div class="modal-content achievement-content">
        <h2>ğŸ… Achievement</h2>
        <div id="achievement-list" class="achievement-list">
          <!-- Achievements will be populated by JS -->
        </div>
        <button class="btn-main" onclick="closeAchievementModal()">Tutup</button>
      </div>
    </div>
    
    <!-- Achievement Popup -->
    <div id="achievement-popup" class="achievement-popup hidden">
      <span class="popup-icon">ğŸ‰</span>
      <div class="popup-text">
        <strong>Achievement Unlocked!</strong>
        <p id="popup-achievement-name"></p>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
